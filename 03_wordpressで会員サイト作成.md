# 「WordPressで会員サイトを作る方法」

2023/09/01~09/02

## ダウンロードページの構築

- 売り切り型の商品販売で使われる購入者しかアクセスできないサイトを作る方法
- 月額制などの会員サイト運営では使えない(ユーザー名とパスワードが共通なので)
  
### WP Basic Authをインストール

- プラグインWP Basic Authをインストール

### ログインページのカスタマイズ

- デフォルトのログインページは管理画面になっているので任意のURLに変更する

## 継続型会員サイトの構築

- 会員をレベルごとに管理
- 会員のアクセス権限を管理(退会後はアクセス不可にする)
- 会員が自由に好きなユーザー名とパスワードを設定できる
- 閲覧可能ページを設定できる

### User Role Editorのインストールと設定

- User Role Editor ..登録者のグループ分けができるワードプレスの無料プラグイン
- 権限グループを作成し、read権限だけにチェック

### User Access Managerの設定

- User Access Manager ..ワードプレスの無料プラグイン
- 各記事ごとに閲覧制限を設定

## 各ページの作成

### WP_Memberのインストール＆設定

- WP_Member ..ワードプレスの無料プラグイン
- 新規ユーザー登録フォーム
- ログインフォーム
- パスワードの変更 などを実装することができる

### 新規会員登録ページの作成

- 固定ページに作成
- [wp-members page="register"]
- セキュリティ対策として固定ページにパスワードを設定

### ログインページの作成

- 固定ページに作成
- [wp-members page="login"]

### 会員プロフィールページの作成

- 固定ページに作成
- [wp-members page="user-profile"]

- 決済直後のサンキューメールに「新規会員登録ページ」のURLとパスワードを記載
- 会員登録時の自動返信メールに「ログインページ」と「パスワード変更ページ」のURLを記載

## サイトの設定

### 会員登録時の権限設定

- メンバーシップ：だれでもユーザー登録ができるようにするのチェックを外し、新規ユーザーのデフォルト権限グループを設定する

### RSSの表示設定

- 設定->表示設定->RSS/Atomフィードでの各投稿の表示：抜粋のみを表示にチェック

### 会員の管理

- 退会ユーザー
  - ユーザー->ユーザー一覧でユーザーを削除することでサイトからすべての会員情報が削除される

- 決済不能ユーザー
  - ユーザー->ユーザー一覧でユーザーの権限グループを購読者に変更